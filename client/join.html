<template name="join">
{{> header }}
<div class="overlay">
  <h1>Create a profile</h1>
  {{#if currentUser}}
  <form class="tutor-profile" action="" method="post">
    <p>Start creating your tutoring profile</p>
    <div class="photoFrame form-group">
      {{> photoUpload}}
    </div>
    <div class="form-group">
      <label class="placeholder" for="name">Name</label>
      <input type="text" placeholder="Name" name="name" id="name" class="form-control validate[required]" value="{{currentUser.profile.name}}" data-prompt-position="topLeft">
    </div>
    <div class="form-group">
      <label class="placeholder" for="subject">Subject</label>
      <input type="text" placeholder="Subject" name="subject" id="subject" autocomplete="off" class="form-control validate[required]" data-prompt-position="topLeft">
    </div>
    <div class="form-group">
      <label class="placeholder" for="place">Place</label>
      <input type="text" placeholder="Near" name="place" id="place" autocomplete="off" class="form-control validate[required]" data-prompt-position="topLeft">
    </div>
    <div class="form-group">
      <label class="placeholder" for="desc">Bio</label>
      <textarea name="desc" id="desc" class="form-control validate[maxSize[280]]" placeholder="Bio" maxlength="280"></textarea>
    </div>
    <div class="form-group tag-input" data-tag-output="#qualification-tags-output">
      <label class="placeholder" for="qualification">Qualifications</label>
      <div class="input-group">
        <input id="qualification" type="text" class="form-control tag-input-control" placeholder="Qualifications">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-plus"></span></button>
        </span>
      </div>
    </div>
    <div id="qualification-tags-output" class="form-group"></div>
    <div class="form-group tag-input" data-tag-output="#experience-tags-output">
      <label class="placeholder" for="experience">Experience</label>
      <div class="input-group">
        <input id="experience" type="text" class="form-control tag-input-control" placeholder="Experience">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-plus"></span></button>
        </span>
      </div>
    </div>
    <div id="experience-tags-output" class="form-group"></div>
    <input type="submit" class="btn btn-primary" id="addTutor" value="Create Profile"/>
  </form>
  {{else}}
    <p><strong>The basics:</strong></p>
    {{> register}}
  {{/if}}
</div>
</template>

<template name="photoUpload">
  <div id="photoDropTarget" class="{{#if photo}}hasPhoto{{/if}}">
    {{#if photo}}
    <img src="{{photo.url}}"/>
    {{/if}}
    {{#if progress}}
      <p>Uploading {{progress}}%</p>
    {{else}}
      <p>Drop photo here</p>
    {{/if}}
  </div>
</template>